<div class="goal-wrapper">
  <div
    class="goal-card"
    *ngFor="let goal of goals"
    [ngClass]="'accent-' + goal.icon"
  >
    <div class="goal-header">
      <mat-icon class="goal-icon">{{ goal.icon }}</mat-icon>
      <button mat-icon-button (click)="openEditDialog(goal)">
        <mat-icon>edit</mat-icon>
      </button>
    </div>

    <h3 class="goal-title">{{ goal.title }}</h3>
    <p class="goal-target">ðŸŽ¯ Ziel: {{ goal.targetValue }} {{ goal.unit }}</p>
    <p>Aktueller Fortschritt: {{ goal.currentValue ?? 0 }} {{ goal.unit }}</p>
    <p class="goal-deadline">ðŸ“… Bis: {{ goal.deadline | date: 'dd.MM.yyyy' }}</p>

    <div class="progress-bar-container">
      <div class="progress-bar">
        <div
          class="progress-fill"
          [style.width.%]="calculateProgress(goal)"
        ></div>
      </div>
      <p class="progress-text">{{ calculateProgress(goal) }}%</p>
    </div>

    <div class="goal-info">
      <span class="status" [ngClass]="getStatusClass(goal)">
        {{ getStatusText(goal) }}
      </span>
    </div>
  </div>
</div>
